# JSON Split Viewer

一个轻量级的 Chrome 插件，用于美化和可视化 JSON 数据，提供左右分屏展示和层级复制功能。

## ✨ 功能特性

- **左右分屏**：左侧输入原始 JSON，右侧展示美化后的树状结构
- **实时响应**：编辑区修改内容后自动更新右侧展示（100ms 防抖）
- **树状可视化**：支持折叠/展开、语法高亮
- **层级复制**：支持复制 Key、Value 或整个对象
- **格式化**：自动美化不规整的 JSON 数据
- **暗色模式**：自动跟随系统主题
- **快捷键**：`Ctrl+Enter` 快速格式化，`Ctrl+F` 搜索，`Ctrl+S` 导出
- **🆕 性能优化**：支持处理超大 JSON（>1MB），使用异步渲染和防抖优化
- **🆕 搜索功能**：实时搜索并高亮 Key/Value，显示匹配数量
- **🆕 导出功能**：一键导出为格式化的 JSON 文件
- **🆕 历史记录**：自动保存最近使用的 10 条 JSON，支持快速加载

## 📦 安装方法

### 开发模式安装

1. 克隆或下载本项目到本地
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角的「开发者模式」
4. 点击「加载已解压的扩展程序」
5. 选择本项目的根目录
6. 安装完成！点击工具栏的插件图标即可使用

### Chrome Web Store 安装（待发布）

暂未发布到 Chrome Web Store，敬请期待。

## 🚀 使用说明

1. 点击浏览器工具栏的插件图标，会自动打开新标签页
2. 在左侧文本框粘贴或输入 JSON 数据
3. 点击「格式化」按钮或按 `Ctrl+Enter`
4. 右侧将展示美化后的树状结构
5. 鼠标悬停在节点上可以看到复制按钮
6. 点击箭头图标或双击 Key 可以折叠/展开节点

### 新功能使用

#### 搜索功能
- 在搜索框输入关键词，按回车或点击「搜索」
- 匹配的 Key 和 Value 会高亮显示
- 显示匹配数量统计
- 快捷键：`Ctrl+F`

#### 导出功能
- 点击「导出」按钮
- 自动下载格式化的 JSON 文件
- 快捷键：`Ctrl+S`

#### 历史记录
- 每次格式化后自动保存
- 点击「历史记录」下拉框选择历史数据
- 最多保存 10 条记录
- 支持一键清空

#### 性能优化
- 自动检测大文件（>1MB）
- 显示加载动画
- 异步渲染不阻塞浏览器

## 🛠️ 技术栈

- HTML/CSS/JavaScript（原生开发）
- Chrome Extension Manifest V3
- 无第三方依赖

## 📁 项目结构

```
JSON-Split-Viewer/
├── manifest.json           # 插件配置文件
├── background.js           # 后台脚本（处理图标点击）
├── viewer/                 # 查看器页面
│   ├── viewer.html        # 主界面
│   ├── viewer.css         # 样式文件
│   └── viewer.js          # 交互逻辑
├── popup/                  # 弹窗页面（已废弃）
├── utils/                  # 工具函数
│   ├── json-parser.js     # JSON 解析和渲染逻辑
│   └── history-manager.js # 历史记录管理
├── icons/                  # 插件图标（待添加）
├── ui_demo.html           # UI 原型演示
├── 开发计划.md            # 开发计划文档
├── 新功能说明.md          # 新功能详细说明
└── README.md              # 项目说明
```

## 🎯 开发进度

- [x] 基础框架搭建
- [x] JSON 解析与渲染
- [x] 树状可视化展示
- [x] 语法高亮
- [x] 折叠/展开功能
- [x] 层级复制功能
- [x] 暗色模式支持
- [x] 性能优化（大 JSON 处理）
- [x] 搜索功能
- [x] 导出功能
- [x] 历史记录功能

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 📝 更新日志

### v1.2.0 (2025-12-25)

**重大更新**
- 改为新标签页模式：点击插件图标打开独立的全屏页面，而非小弹窗
- 更好的用户体验：更大的工作区域，更舒适的操作空间

**新增功能**
- 实时响应：编辑区修改内容后自动更新右侧展示（800ms 防抖）
- 自动保存：编辑内容自动保存到历史记录

### v1.1.0 (2025-12-25)

**新增功能**
- 性能优化：支持处理超大 JSON（>1MB），使用异步渲染和防抖
- 搜索功能：实时搜索并高亮 Key/Value，显示匹配数量
- 导出功能：一键导出为格式化的 JSON 文件
- 历史记录：自动保存最近使用的 10 条 JSON

**优化改进**
- 添加全部展开按钮
- 添加快捷键支持（Ctrl+F 搜索，Ctrl+S 导出）
- 添加加载动画提示
- 优化搜索性能（500ms 防抖）

### v1.0.0 (2025-12-25)

- 初始版本发布
- 实现基础的 JSON 美化和树状展示功能
- 支持层级复制
- 支持暗色模式

---

**开发愉快！🚀**
